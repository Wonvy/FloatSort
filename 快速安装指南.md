# FloatSort 快速安装和运行指南

## ⚡ 快速开始（3步）

### 1️⃣ 安装 Rust

**Windows 用户：**
```powershell
# 方法 1：使用 winget（推荐）
winget install Rustlang.Rustup

# 方法 2：手动安装
# 访问 https://rustup.rs/ 下载安装器
```

**安装后验证：**
```powershell
# 关闭并重新打开终端，然后运行：
rustc --version
cargo --version
```

### 2️⃣ 安装系统依赖

**Windows：**
```powershell
# 安装 Visual Studio Build Tools（C++ 工具）
winget install Microsoft.VisualStudio.2022.BuildTools

# 在安装器中选择："使用 C++ 的桌面开发"
```

**WebView2 Runtime（通常已预装）：**
- Windows 10/11 一般已内置
- 如需手动安装：https://developer.microsoft.com/microsoft-edge/webview2/

### 3️⃣ 运行项目

**最简单的方法（双击运行）：**
```
在项目根目录，双击：开始开发.bat
```

**或使用命令行：**
```powershell
# 进入项目目录
cd d:\Code\cursor\FloatSort

# 首次运行（会自动下载依赖，需要 5-10 分钟）
cargo tauri dev
```

---

## 🔍 验证安装

运行以下命令确保环境正确：

```powershell
# 检查 Rust
rustc --version
cargo --version

# 应该看到类似输出：
# rustc 1.75.0 (或更高版本)
# cargo 1.75.0 (或更高版本)
```

---

## 🚨 常见问题

### 问题 1：找不到 rustc 命令

**解决：**
1. 确认已安装 Rust
2. **重启终端**（重要！）
3. 检查环境变量是否包含：`%USERPROFILE%\.cargo\bin`

### 问题 2：编译错误 - 找不到 MSVC

**解决：**
安装 Visual Studio Build Tools，确保选择 "C++ 桌面开发" 工作负载

### 问题 3：首次运行很慢

**这是正常的！**
- 首次运行需要下载和编译所有依赖
- 预计需要 5-10 分钟
- 后续运行会很快（< 1 分钟）

### 问题 4：WebView2 错误

**解决：**
下载并安装 WebView2 Runtime：
https://developer.microsoft.com/microsoft-edge/webview2/

---

## 📝 完整安装流程（首次使用）

```powershell
# 1. 安装 Rust
winget install Rustlang.Rustup

# 2. 重启终端（关闭后重新打开）

# 3. 验证 Rust
rustc --version

# 4. 安装 Visual Studio Build Tools
winget install Microsoft.VisualStudio.2022.BuildTools

# 5. 进入项目目录
cd d:\Code\cursor\FloatSort

# 6. 首次运行（耐心等待依赖下载）
cargo tauri dev

# 或者双击：开始开发.bat
```

---

## 🎯 成功运行的标志

当看到以下信息时，说明成功启动：

```
   Compiling floatsort v0.1.0
    Finished dev [unoptimized + debuginfo] target(s) in XX.XXs
     Running `target\debug\floatsort.exe`
FloatSort 启动中...
FloatSort 初始化完成
```

然后会弹出应用窗口！

---

## 🚀 后续使用

环境安装完成后，每次运行只需：

**方式 1：双击启动**
```
双击：开始开发.bat
```

**方式 2：命令行**
```powershell
cargo tauri dev
```

**方式 3：使用脚本**
```powershell
.\scripts\dev.ps1
```

---

## 📞 需要帮助？

- 查看完整文档：`HOW_TO_RUN.md`
- 构建说明：`docs/BUILD.md`
- 开发指南：`docs/DEVELOPMENT.md`

---

## ⏱️ 预计时间

- **环境安装**：15-30 分钟（仅需一次）
- **首次运行**：5-10 分钟（下载依赖）
- **后续运行**：< 1 分钟

---

祝您使用愉快！🎉

